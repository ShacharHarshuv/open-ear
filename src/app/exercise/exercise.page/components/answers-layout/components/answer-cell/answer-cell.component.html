<ng-container *ngIf="answerConfig() as answerConfig">
  <div
    class="answer-cell"
    *ngIf="answerConfig.answer"
    [style.flex]="answerConfig.space"
  >
    <ng-template
      [ngTemplateOutlet]="buttonTemplate"
      [ngTemplateOutletContext]="{ $implicit: answerConfig }"
    />
  </div>
  <div *ngIf="!answerConfig.answer" [style.flex]="answerConfig.space"></div>
</ng-container>
<ng-container *ngIf="multiAnswerCell() as multiAnswerCell">
  <div
    class="answer-cell"
    [style.flex]="multiAnswerCell.space"
    id="{{ multiAnswerCell.id }}"
  >
    <ng-template
      *ngIf="
        multiAnswerCellButtonTemplateContext() as multiAnswerButtonTemplateContext
      "
      [ngTemplateOutlet]="multiAnswerButtonTemplate"
      [ngTemplateOutletContext]="{
        $implicit: multiAnswerButtonTemplateContext
      }"
    />
    <div class="multi-answer-arrow"></div>
  </div>
  <ion-popover
    trigger="{{ multiAnswerCell.id }}"
    [dismissOnSelect]="multiAnswerCellConfig.dismissOnSelect"
    [triggerAction]="multiAnswerCellConfig.triggerAction"
  >
    <ng-template>
      <div class="multi-answer-popover-content">
        <app-answers-layout
          [answerList]="multiAnswerCell.innerAnswersList"
          [buttonTemplate]="buttonTemplate"
          [multiAnswerButtonTemplate]="multiAnswerButtonTemplate"
          [multiAnswerCellConfig]="multiAnswerCellConfig"
        />
      </div>
    </ng-template>
  </ion-popover>
</ng-container>
